<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./css/project.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Big+Shoulders+Display:wght@100..900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />

    <title>Project</title>
  </head>
  <body>
    <nav
      class="navbar navbar-expand-lg navbar-expand-lg bg-dark border-bottom border-body"
      data-bs-theme="dark"
    >
      <div class="container-fluid">
        <a href="/" class="navbar-brand">
          <img
            class="image-nav"
            src="./assets/dw-favicon-final.png"
            style="width: 35px;"
          />
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a href="/project" class="nav-link active">
                Project
              </a>
            </li>
            <li class="nav-item">
              <a href="/review" class="nav-link active">
                Testimoni
              </a>
            </li>

          </ul>
          <div>

          </div>
          {{#if user}}
            <div class="d-flex">
              <h3 style="color:white; margin-right:15px">{{user.username}}</h3>
            </div>
            <form
              action="/logout"
              method="post"
              class="my-auto "
              style="margin-right: 15px;"
            >
              <button
                type="submit"
                class="btn btn-outline-danger logout-btn"
              >Logout</button></form>

          {{else}}
            <div class="d-flex">
              <a href="/login">
                <button class="btn poppins-bold">Login</button>
              </a>

            </div>
            <div class="d-flex">
              <a href="/register">
                <button class="btn poppins-bold">Register</button>
              </a>
            </div>

          {{/if}}
          <div class="d-flex">
            <a href="/form">
              <button class="btn btn-light poppins-bold">Contact</button>
            </a>
          </div>

        </div>
      </div>
    </nav>
    {{#if messages.error}}
        <div class="alert alert-danger" role="alert" style="width: 100%;">
        {{messages.error}}
      </div>
      {{/if}}
      {{#if messages.success}}
        <div class="alert alert-success" role="alert">
          {{messages.success}}
        </div>
      {{/if}}
    {{#if user}}
      <div class="container">

        <form
          method="post"
          action="/project"
          enctype="multipart/form-data"
          class="data-insert"
        >
          <div class="poppins-bold">
            <label class="form-label">Name :</label>
            <input
              class="form-control"
              type="text"
              name="title"
              id="name"
              required
            />
          </div>
          <div class="d-flex flex-column">
            <div class="poppins-bold">
              <label class="form-label">Date Start:</label>
              <input
                class="form-control"
                type="date"
                name="datestart"
                required
              />
            </div>
            <div class="poppins-bold">
              <label class="form-label">Date End:</label>
              <input class="form-control" type="date" name="dateend" required />
            </div>
          </div>
          <div class="poppins-bold">
            <label>Description :</label>
            <textarea
              class="form-control"
              id="project-desc"
              name="desc"
              required
            ></textarea>
          </div>
          <div class="poppins-bold tech-list">
            <label class="form-label">Technologies :</label>
            <div class="form-check">
              <input
                type="checkbox"
                id="node-js"
                name="selectbox"
                class="form-check-input"
                value="Node JS"
              />
              <label for="node-js"> Node JS</label>
            </div>
            <div class="form-check">
              <input
                type="checkbox"
                id="next-js"
                name="selectbox"
                class="form-check-input"
                value="Next JS"
              />
              <label for="next-js"> Next JS</label>
            </div>
            <div class="form-check">
              <input
                type="checkbox"
                id="react-js"
                name="selectbox"
                class="form-check-input"
                value="React JS"
              />
              <label for="react-js"> React JS</label>
            </div>
            <div class="form-check">
              <input
                type="checkbox"
                id="typescript"
                name="selectbox"
                class="form-check-input"
                value="TypeScript"
              />
              <label for="typescript"> TypeScript</label>
            </div>

            <div style="margin-top: 10px;">
              <input
                type="file"
                name="imageUpload"
                accept="image/png, image/gif, image/jpeg"
                id="imageup"
                required
              />
            </div>

          </div>

          <div class="poppins-bold">
            <button class="btn btn-dark poppins-bold" id="btn">Submit</button>
          </div>
        </form>
      </div>

    {{/if}}

    <div id="content">
      {{#each listData}}
        <div class="container-card">
          <div class="picture">
            <img class="image" src="/upload/{{image_data}}" />
          </div>
          <div class="detail">
            <h1 class="poppins-bold">
              <a
                href="/project-detail/{{id}}"
                style="text-decoration-line: none; color: black;"
              >{{title}}</a></h1>
            <p class="date-info poppins-medium">{{data_distance
                date_start
                date_end
              }}
              days | author :
              {{username}}</p>
            <p class="textintro poppins-medium">
              {{project_desc}}
            </p>
            <p class="tech-used poppins-bold">Tech Used : {{selected}} </p>
            {{#if ../user}}
            <div style="display: flex; flex-direction:row; gap:5px">
              <a href="/project-edit/{{id}}" name="button_edit"><button
                  class="btn-action poppins-medium"
                >Edit</button></a>
              <form
                action="/project-delete/{{id}}"
                method="post"
                style="margin-top: 0px;"
              >

                <div style="width: 50%; margin-top:0px">

                  <button
                    class="btn-action poppins-medium"
                    type="submit"
                  >Delete</button>
                </div>

              </form>
            </div>
            {{/if}}

          </div>
        </div>
      {{/each}}
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script src="./js/nav.js"></script>
    <script src="./js/project.js"></script>

  </body>
</html>